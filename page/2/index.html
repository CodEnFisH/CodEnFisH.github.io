<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 | Codefish</title>
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Codefish"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  

</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Codefish</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header">
  <h1>Codefish in the binary sea</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      Two of my favorite things: coding and fishing.
</div>    

		<div class="mypage">
		
		<!-- title and entry -->
		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/29/Find-Local-Maximum-Minimum-aka-peek-element/" >Find Local Maximum/Minimum, aka, peek element</a>
			<span class="date"> Jan 29 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>A peak element is an element that is greater than its neighbors.</p>
<p>Given an input array where num[i] ≠ num[i+1], find a peak element and return its index.</p>
<p>The array may contain multiple peaks, in that case return the index to any one of the peaks is fine.</p>
<p>You may imagine that num[-1] = num[n] = -∞.</p>
<p>For example, in array [1, 2, 3, 1], 3 is a peak element and your function should return the index number 2.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>Binary search, if the mid point is in the “climbing half”, discard the left subarray; else it’s in the “decending half”, discard the right subarray.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span>(<span class="keyword">int</span>[] num) {</div><div class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = num.length - <span class="number">1</span>, m;</div><div class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>){</div><div class="line">        <span class="keyword">if</span>(l == r) <span class="keyword">return</span> l;</div><div class="line">        m = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(m &lt; num.length - <span class="number">1</span>){</div><div class="line">            <span class="keyword">if</span>(num[m] &lt; num[m+<span class="number">1</span>]) l = m + <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span> r = m;</div><div class="line">        } <span class="keyword">else</span> <span class="keyword">return</span> m;</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>


	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/29/Find-Local-Maximum-Minimum-aka-peek-element/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/29/Search-2D-Matrix/" >Search 2D Matrix</a>
			<span class="date"> Jan 29 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>Write an efficient algorithm that searches for a value in an m x n matrix. This matrix has the following properties:</p>
<ul>
<li>Integers in each row are sorted from left to right.</li>
<li>The first integer of each row is greater than the last integer of the previous row.</li>
</ul>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>There are several versions of this problem. The key idea is to, according to the problem, find good cutting point and discard subproblems.</p>
<p>For the original problem, we can flat the array and treat it as 1D binary search, as follows.</p>
<figure class="highlight JAVA"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span>(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target) {</div><div class="line">    <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length, r = m * n - <span class="number">1</span>, l = <span class="number">0</span>, mid;</div><div class="line">    <span class="keyword">while</span>(l &lt;= r) {</div><div class="line">        mid = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">int</span> val = matrix[mid/n][mid%n];</div><div class="line">        <span class="keyword">if</span>(val == target) <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(val &gt; target) r = mid - <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> l = mid + <span class="number">1</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<p>Or we can first search which row is it in, then column, as follows:</p>
<figure class="highlight JAVA"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span>(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target) {</div><div class="line">    <span class="keyword">int</span> m = matrix.length;</div><div class="line">    <span class="keyword">if</span>(m == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    <span class="keyword">int</span> n = matrix[<span class="number">0</span>].length;</div><div class="line">    <span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[m];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++){</div><div class="line">        a[i] = matrix[i][<span class="number">0</span>];</div><div class="line">    }</div><div class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = m-<span class="number">1</span>, mid, lastSmaller = -<span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(l&lt;=r){</div><div class="line">        mid = l+(r-l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(l==r){</div><div class="line">            <span class="keyword">if</span>(a[l] &lt;= target) lastSmaller = l;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">if</span>(l==r-<span class="number">1</span>){</div><div class="line">            <span class="keyword">if</span>(a[r] &lt;= target) lastSmaller = r;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a[l] &lt;= target) lastSmaller = l;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">if</span>(a[mid] &gt; target){</div><div class="line">            r = mid-<span class="number">1</span>;</div><div class="line">        } <span class="keyword">else</span> <span class="keyword">if</span>(a[mid] &lt; target){</div><div class="line">            l = mid;</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">if</span>(lastSmaller==-<span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    a = matrix[lastSmaller];</div><div class="line">    l = <span class="number">0</span>;</div><div class="line">    r = n-<span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(l&lt;=r){</div><div class="line">        mid = l+(r-l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(a[mid] &gt; target){</div><div class="line">            r = mid-<span class="number">1</span>;</div><div class="line">        } <span class="keyword">else</span> <span class="keyword">if</span>(a[mid] &lt; target){</div><div class="line">            l = mid+<span class="number">1</span>;</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Variant_1">Variant 1</h3>
<blockquote>
<p>What if the matrix’s feature is as follows?</p>
<ul>
<li>Integers in each row are sorted from left to right.</li>
<li>Integers in each column are sorted from up to bottom.</li>
<li>No duplicate in the whole array.<br>In fact this is called Young-Tableau</li>
</ul>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<p>Basic insight is that for Young-Tableau, the left-up subarray is smaller than the right -bottom subarray.</p>
<h4 id="Idea_1:_Scanning_from_Corner">Idea 1: Scanning from Corner</h4>
<p>We can start from the right-up corner. If the current num is larger than target, the whole column can be discarded. If it’s smaller, the whole line can be discarded.</p>
<figure class="highlight JAVA"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search2D</span>(<span class="keyword">int</span>[][] a, <span class="keyword">int</span> target){</div><div class="line">  <span class="keyword">int</span> m = a.length, n = a[<span class="number">0</span>].length;</div><div class="line">  <span class="keyword">int</span> i = <span class="number">0</span>, j = n - <span class="number">1</span>;</div><div class="line">  <span class="keyword">while</span>(j &gt;= <span class="number">0</span> && i &lt; m){</div><div class="line">    <span class="keyword">if</span>(a[i][j] &gt; target) j--;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a[i][j] &lt; target) i++;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="Idea_2:_2D-Cut_the_Matrix">Idea 2: 2D-Cut the Matrix</h4>
<p>TODO</p>
<h3 id="Variant_2">Variant 2</h3>
<blockquote>
<p>What if the matrix’s feature is as follows?</p>
<ul>
<li>Integers in each row are sorted from left to right.</li>
<li>Integers in each column are sorted from up to bottom.</li>
<li>No duplicate integers in each row or column.<br>Count how many of a given number are in the matrix?</li>
</ul>
</blockquote>
<h3 id="Solution-2">Solution</h3>
<p>Like the non-duplicated version, we now just need to add another case where when we find the current num is the target, we can disgard the whole row and column.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count2D</span>(<span class="keyword">int</span>[][] a, <span class="keyword">int</span> target){</div><div class="line">  <span class="keyword">int</span> m = a.length, n = a[<span class="number">0</span>].length, cnt = <span class="number">0</span>;</div><div class="line">  <span class="keyword">int</span> i = <span class="number">0</span>, j = n - <span class="number">1</span>;</div><div class="line">  <span class="keyword">while</span>(j &gt;= <span class="number">0</span> && i &lt; m){</div><div class="line">    <span class="keyword">if</span>(a[i][j] &gt; target) j--;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(a[i][j] &lt; target) i++;</div><div class="line">    <span class="keyword">else</span> {</div><div class="line">      cnt++;</div><div class="line">      i++; j--;</div><div class="line">    }</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> cnt;</div><div class="line">}</div></pre></td></tr></table></figure>


	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/29/Search-2D-Matrix/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/29/Search-Insertion-Position/" >Search Insertion Position</a>
			<span class="date"> Jan 29 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>Given a sorted array and a target value, return the index if the target is found. If not, return the index where it would be if it were inserted in order.</p>
<p>You may assume no duplicates in the array.</p>
<p>Here are few examples.<br>[1,3,5,6], 5 → 2<br>[1,3,5,6], 2 → 1<br>[1,3,5,6], 7 → 4<br>[1,3,5,6], 0 → 0</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">searchInsert</span>(<span class="keyword">int</span>[] a, <span class="keyword">int</span> target) {</div><div class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = a.length - <span class="number">1</span>, m;</div><div class="line">    <span class="keyword">while</span>(l &lt;= r){</div><div class="line">        m = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(a[m] == target) <span class="keyword">return</span> m;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a[m] &lt; target) l = m + <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">if</span>(m &gt; <span class="number">0</span> && a[m - <span class="number">1</span>] &gt;= target) r = m - <span class="number">1</span>; <span class="comment">// pitfall: it's &gt;= target</span></div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span> m;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> l;</div><div class="line">}</div></pre></td></tr></table></figure>


	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/29/Search-Insertion-Position/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/29/Search-for-a-Range/" >Search for a Range</a>
			<span class="date"> Jan 29 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>Given a sorted array of integers, find the starting and ending position of a given target value.</p>
<p>Your algorithm’s runtime complexity must be in the order of O(log n).</p>
<p>If the target is not found in the array, return [-1, -1].</p>
<p>For example, Given [5, 7, 7, 8, 8, 10] and target value 8, return [3, 4].</p>
<h3 id="Solution">Solution</h3>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findFirst</span>(<span class="keyword">int</span>[] a, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> target) {</div><div class="line">    <span class="keyword">int</span> l = left, r = right, m;</div><div class="line">    <span class="keyword">while</span>(l &lt;= r){</div><div class="line">        m = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(target &gt; a[m]) l = m + <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(target &lt; a[m]) r = m - <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">if</span>(m &gt; <span class="number">0</span> && a[m - <span class="number">1</span>] == a[m]) r = m - <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span> m;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">}</div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findLast</span>(<span class="keyword">int</span>[] a, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> target) {</div><div class="line">    <span class="keyword">int</span> l = left, r = right, m;</div><div class="line">    <span class="keyword">while</span>(l &lt;= r){</div><div class="line">        m = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(target &gt; a[m]) l = m + <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(target &lt; a[m]) r = m - <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">if</span>(m &lt; right && a[m + <span class="number">1</span>] == a[m]) l = m + <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span> m;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">}</div></pre></td></tr></table></figure>


	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/29/Search-for-a-Range/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/29/Search-in-Rotated-Sorted-Array/" >Search in Rotated Sorted Array</a>
			<span class="date"> Jan 29 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>Suppose a sorted array is rotated at some pivot unknown to you beforehand.</p>
<p>(i.e., 0 1 2 4 5 6 7 might become 4 5 6 7 0 1 2).</p>
<p>You are given a target value to search. If found in the array return its index, otherwise return -1.</p>
<p>You may assume no duplicate exists in the array.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<figure class="highlight Java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span>(<span class="keyword">int</span>[] A, <span class="keyword">int</span> target) {</div><div class="line">    <span class="keyword">return</span> bs(A, <span class="number">0</span>, A.length - <span class="number">1</span>, target);</div><div class="line">}</div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">bs</span>(<span class="keyword">int</span>[] a, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> target){</div><div class="line">    <span class="keyword">int</span> l = left, r = right, m;</div><div class="line">    <span class="keyword">while</span>(l &lt;= r){</div><div class="line">        m = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(target &gt; a[m]){</div><div class="line">            <span class="keyword">if</span>(a[m] &lt;= a[r] && target &gt; a[r]) r = m - <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span> l = m + <span class="number">1</span>;</div><div class="line">        } <span class="keyword">else</span> <span class="keyword">if</span>(target &lt; a[m]) {</div><div class="line">            <span class="keyword">if</span>(a[m] &gt;= a[r] && target &lt; a[l]) l = m + <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span> r = m - <span class="number">1</span>;</div><div class="line">        } <span class="keyword">else</span> <span class="keyword">return</span> m;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Variant_1:_Duplication_Allowed">Variant 1: Duplication Allowed</h3>
<blockquote>
<p>What if duplication is allowed</p>
</blockquote>
<p>The tricky part is that when a[m] == a[r], no subarray can be directly discard, the best we can do is to shrink the array by 1.</p>
<figure class="highlight Java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span>(<span class="keyword">int</span>[] A, <span class="keyword">int</span> target) {</div><div class="line">    <span class="keyword">return</span> bs(A, <span class="number">0</span>, A.length - <span class="number">1</span>, target);</div><div class="line">}</div><div class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">bs</span>(<span class="keyword">int</span>[] a, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> target){</div><div class="line">    <span class="keyword">int</span> l = left, r = right, m;</div><div class="line">    <span class="keyword">while</span>(l &lt;= r){</div><div class="line">        m = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(target &gt; a[m]){</div><div class="line">            <span class="keyword">if</span>(a[m] == a[r]) r--;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a[m] &lt; a[r] && target &gt; a[r]) r = m - <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span> l = m + <span class="number">1</span>;</div><div class="line">        } <span class="keyword">else</span> <span class="keyword">if</span>(target &lt; a[m]) {</div><div class="line">            <span class="keyword">if</span>(a[m] == a[r]) r--;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a[m] &gt; a[r] && target &lt; a[l]) l = m + <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span> r = m - <span class="number">1</span>;</div><div class="line">        } <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    }</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Variant_2:_Find_Min_in_Rotated_Array">Variant 2: Find Min in Rotated Array</h3>
<blockquote>
<p>Suppose a sorted array is rotated at some pivot unknown to you beforehand. Find the minimum element. (No duplication)</p>
</blockquote>
<h3 id="Solution-1">Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span>(<span class="keyword">int</span>[] a) {</div><div class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = a.length - <span class="number">1</span>, m;</div><div class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>){</div><div class="line">        m = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(a[m] &gt; a[r]) l = m + <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a[m] &lt; a[r]){</div><div class="line">            <span class="keyword">if</span>(m &gt; <span class="number">0</span> && a[m] &gt; a[m-<span class="number">1</span>]) r = m - <span class="number">1</span>;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span> a[m];</div><div class="line">        } <span class="keyword">else</span> <span class="keyword">return</span> a[l];</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<blockquote>
<p>What if duplication is allowed?</p>
</blockquote>
<h3 id="Solution-2">Solution</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span>(<span class="keyword">int</span>[] a) {</div><div class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = a.length - <span class="number">1</span>, m;</div><div class="line">    <span class="keyword">while</span>(<span class="keyword">true</span>){</div><div class="line">        <span class="keyword">if</span>(l == r) <span class="keyword">return</span> a[l];</div><div class="line">        m = l + (r - l)/<span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span>(a[m] &gt; a[r]) l = m + <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a[m] &lt; a[r]){</div><div class="line">            <span class="keyword">if</span>(m &gt; <span class="number">0</span> && a[m] &gt;= a[m-<span class="number">1</span>]) r = m - <span class="number">1</span>; <span class="comment">// again, don't forget &gt;=</span></div><div class="line">            <span class="keyword">else</span> <span class="keyword">return</span> a[m];</div><div class="line">        }  <span class="keyword">else</span> r--;</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>


	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/29/Search-in-Rotated-Sorted-Array/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/29/Top-k-in-BST/" >Top-k in BST</a>
			<span class="date"> Jan 29 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<p>Find the kth smallest/largest element in BST</p>
<h3 id="Solution">Solution</h3>
<ul>
<li>If we are not allowed to augment the BST, we can just DFS the BST and count the number of element in subtree</li>
<li>If we are allowed to augment the BST, we can add counter to each node, w/o having to do DFS</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>, ans = <span class="number">0</span>;</div><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">topKInBST</span>(TreeNode root, <span class="keyword">int</span> k){</div><div class="line">  dfs(root, k);</div><div class="line">  <span class="keyword">return</span> cnt;</div><div class="line">}</div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span>(TreeNode root, <span class="keyword">int</span> k){</div><div class="line">  <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">  dfs(root.left, k);</div><div class="line">  <span class="keyword">if</span>(++cnt == k) {</div><div class="line">    ans = root.val;</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">  }</div><div class="line">  dfs(root.right);</div><div class="line">}</div></pre></td></tr></table></figure>


	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/29/Top-k-in-BST/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/29/QAZ-number-Maximal-Surpasser-Count/" >QAZ number/Maximal Surpasser Count</a>
			<span class="date"> Jan 29 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>qaz is a value for a number where this number is less than the other next values which have indexes larger than the index of this number.</p>
<p>for example: 33 , 25 , 26 , 58 , 41 , 59 -&gt; qaz of (33) = 3 where 33 less than 3 numbers (58 , 41 , 59), qaz of (25) = 4 and not 5 because the index of 33 is less than the index of 25, qaz of (26) = 3 , qaz of (58) = 1 , qaz of (41) = 1 , qaz of (59) = 0.<br>the question is to find the max qaz.</p>
</blockquote>
<h3 id="Solutions">Solutions</h3>
<p>This is a classicical problem, it has two basic format: 1) given original array, compute how many larger/smaller number on the left/right 2) given many larger/smaller number on the left/right, compute the original (see variant)</p>
<h4 id="Idea_1">Idea 1</h4>
<p>We can use a BST to solve the problem. We insert every element from last to first and during the insertion we count how many elements are larger than it.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findSurpasser</span>(<span class="keyword">int</span>[] a){</div><div class="line">  <span class="comment">//todo</span></div><div class="line">}</div></pre></td></tr></table></figure>

<h4 id="Idea_2">Idea 2</h4>
<p>We can use a similar idea as merge-sort: we partition, solve the subproblem and when merge the subproblem, if we can count the qaz number within O(n) then we can solve the problem in O(nlogn). It’s like the Reverse Pair Problem.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findSurpasser</span>(<span class="keyword">int</span>[] a){</div><div class="line">  <span class="comment">//todo</span></div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Variant">Variant</h3>
<blockquote>
<p>There is an array a[], now given another array b[] whose element is the number of larger element on the right of the corresponding position in a[]. Recover a[]</p>
<p>Example: a = [3,1,6,4,2,5], b = [3,4,0,1,1,0]. Given b, compute a.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> nonleet;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.Arrays;</div><div class="line"><span class="keyword">import</span> java.util.LinkedList;</div><div class="line"></div><div class="line">class TreeNode {</div><div class="line">    <span class="keyword">int</span> val;</div><div class="line">    TreeNode left, right;</div><div class="line">    <span class="keyword">public</span> <span class="title">TreeNode</span>(<span class="keyword">int</span> val){</div><div class="line">        <span class="keyword">this</span>.val = val;</div><div class="line">        <span class="keyword">this</span>.leftSize = <span class="number">0</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// augmentation</span></div><div class="line">    <span class="keyword">int</span> leftSize;</div><div class="line">    <span class="keyword">int</span> rightSize;</div><div class="line">}</div><div class="line">class BST {</div><div class="line">    TreeNode root;</div><div class="line">    <span class="keyword">public</span> <span class="title">BST</span>(){</div><div class="line">    }</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span>(<span class="keyword">int</span> v){</div><div class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) root = <span class="keyword">new</span> TreeNode(v);</div><div class="line">        <span class="keyword">else</span> insertToNode(root, v);</div><div class="line">    }</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertToNode</span>(TreeNode root, <span class="keyword">int</span> v){</div><div class="line">        <span class="keyword">if</span>(v &lt;= root.val) {</div><div class="line">            <span class="keyword">if</span>(root.left == <span class="keyword">null</span>) {</div><div class="line">                root.left = <span class="keyword">new</span> TreeNode(v);</div><div class="line">                root.leftSize = <span class="number">1</span>;</div><div class="line">            } <span class="keyword">else</span> {</div><div class="line">                insertToNode(root.left, v);</div><div class="line">                root.leftSize++;</div><div class="line">            }</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            <span class="keyword">if</span>(root.right == <span class="keyword">null</span>){</div><div class="line">                root.right = <span class="keyword">new</span> TreeNode(v);</div><div class="line">                root.rightSize = <span class="number">1</span>;</div><div class="line">            } <span class="keyword">else</span> {</div><div class="line">                insertToNode(root.right, v);</div><div class="line">                root.rightSize++;</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// insert the k-th smallest element into the bst</span></div><div class="line">    <span class="comment">// k is 1-based, v is assosiated value</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertKth</span>(<span class="keyword">int</span> k, <span class="keyword">int</span> v){</div><div class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) {</div><div class="line">            root = <span class="keyword">new</span> TreeNode(v);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        }</div><div class="line">        insertKth(root, k, v);</div><div class="line">    }</div><div class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertKth</span>(TreeNode root, <span class="keyword">int</span> k, <span class="keyword">int</span> v){</div><div class="line">        <span class="keyword">if</span>(k == <span class="number">1</span>) {</div><div class="line">            <span class="keyword">while</span>(root.left != <span class="keyword">null</span>){</div><div class="line">                root.leftSize++;</div><div class="line">                root = root.left;</div><div class="line">            }</div><div class="line">            root.left = <span class="keyword">new</span> TreeNode(v);</div><div class="line">            root.leftSize = <span class="number">1</span>;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">if</span>(k == root.leftSize + root.rightSize + <span class="number">2</span>){</div><div class="line">            <span class="keyword">while</span>(root.right != <span class="keyword">null</span>){</div><div class="line">                root.rightSize++;</div><div class="line">                root = root.right;</div><div class="line">            }</div><div class="line">            root.right = <span class="keyword">new</span> TreeNode(v);</div><div class="line">            root.rightSize = <span class="number">1</span>;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        }</div><div class="line">        <span class="keyword">if</span>(root.leftSize &lt; k - <span class="number">1</span>){</div><div class="line">            insertKth(root.right, k - root.leftSize - <span class="number">1</span>, v);</div><div class="line">            root.rightSize++;</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            insertKth(root.left, k, v);</div><div class="line">            root.leftSize++;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="comment">/*</span></div><div class="line">    public void printAll(){</div><div class="line">        StringBuffer buf = new StringBuffer();</div><div class="line">        dfs(root, buf);</div><div class="line">        System.out.println(buf.toString());</div><div class="line">    }</div><div class="line">    */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span>(TreeNode root, LinkedList&lt;Integer&gt; result){</div><div class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">        dfs(root.left, result);</div><div class="line">        result.add(root.val);</div><div class="line">        dfs(root.right, result);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RecoverCounterArray</span> </span>{</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recover</span>(<span class="keyword">int</span>[] a){</div><div class="line">        <span class="keyword">int</span> n = a.length;</div><div class="line">        BST tree = <span class="keyword">new</span> BST();</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--){</div><div class="line">            tree.insertKth(a[i] + <span class="number">1</span>, i );</div><div class="line">        }</div><div class="line">        LinkedList&lt;Integer&gt; ret = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</div><div class="line">        tree.dfs(tree.root, ret);</div><div class="line">        <span class="keyword">int</span>[] b = <span class="keyword">new</span> <span class="keyword">int</span>[n];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++){</div><div class="line">            b[ret.get(i)] = n - i;</div><div class="line">        }</div><div class="line">        System.out.println(Arrays.toString(b));</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>


	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/29/QAZ-number-Maximal-Surpasser-Count/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/28/Wiggle-Sort/" >Wiggle Sort</a>
			<span class="date"> Jan 28 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>The wiggle problem, given an array of integers arrange them such that alternate elements are large and small.(2,5,3,6,…)</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>We can scan the array and keep track of the last three elements and swap them if</p>
<ul>
<li>a[i-2] &lt; a[i-1] &amp;&amp; a[i-1] &lt; a[i]</li>
<li>a[i-2] &gt; a[i-1] &amp;&amp; a[i-1]  &gt; a[i]</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> wiggleSort(<span class="keyword">int</span>[] a){</div><div class="line">    <span class="keyword">int</span> n = a.length;</div><div class="line">    <span class="keyword">if</span>(n &lt;= <span class="number">1</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span>(a[<span class="number">0</span>] &gt; a[<span class="number">1</span>]) { <span class="comment">// we can remove this swap if we don't require a[1] &gt; a[0]</span></div><div class="line">        <span class="keyword">int</span> tmp = a[<span class="number">1</span>];</div><div class="line">        a[<span class="number">1</span>] = a[<span class="number">0</span>];</div><div class="line">        a[<span class="number">0</span>] = tmp;</div><div class="line">    }</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++){</div><div class="line">        <span class="keyword">if</span>((a[i-<span class="number">2</span>] &lt; a[i-<span class="number">1</span>] && a[i] &gt; a[i-<span class="number">1</span>]) || a[i-<span class="number">2</span>] &gt; a[i-<span class="number">1</span>] && a[i] &lt; a[i-<span class="number">1</span>]){</div><div class="line">            <span class="keyword">int</span> tmp = a[i];</div><div class="line">            a[i] = a[i-<span class="number">1</span>];</div><div class="line">            a[i-<span class="number">1</span>] = tmp;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>


	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/28/Wiggle-Sort/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/28/Level-Order-Related/" >Level Order Related</a>
			<span class="date"> Jan 28 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>Given a binary tree, return the level order traversal of its nodes’ values. (ie, from left to right, level by level).</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>Level order traversal can be done in two ways: DFS or BFS: DFS access nodes of each level from left to right (in-order); BFS explicitly expand level-by-level</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// DFS</span></div><div class="line">List&lt;List&lt;Integer&gt;&gt; ret = <span class="keyword">new</span> LinkedList&lt;List&lt;Integer&gt;&gt;();</div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span>(TreeNode root, <span class="keyword">int</span> lev) {</div><div class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span>(ret.size() &lt; lev){</div><div class="line">        List&lt;Integer&gt; newLev = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</div><div class="line">        ret.add(newLev);</div><div class="line">    }</div><div class="line">    ret.get(lev - <span class="number">1</span>).add(root.val);</div><div class="line">    dfs(root.left, lev + <span class="number">1</span>);</div><div class="line">    dfs(root.right, lev + <span class="number">1</span>);</div><div class="line">}</div></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//BFS</span></div><div class="line">List&lt;List&lt;Integer&gt;&gt; ret = <span class="keyword">new</span> LinkedList&lt;List&lt;Integer&gt;&gt;();</div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bfs</span>(TreeNode root){</div><div class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    LinkedList&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</div><div class="line">    TreeNode dummy = <span class="keyword">new</span> TreeNode(-<span class="number">1</span>), next;</div><div class="line">    q.add(root); q.add(dummy);</div><div class="line">    LinkedList&lt;Integer&gt; newLev = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</div><div class="line">    <span class="keyword">while</span>(!q.isEmpty()){</div><div class="line">        next = q.removeFirst();</div><div class="line">        <span class="keyword">if</span>(next == dummy){</div><div class="line">            <span class="keyword">if</span>(!q.isEmpty()){</div><div class="line">                ret.add(newLev);</div><div class="line">                newLev = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</div><div class="line">                q.add(dummy);</div><div class="line">            } <span class="keyword">else</span> <span class="keyword">break</span>;</div><div class="line">        } <span class="keyword">else</span> {</div><div class="line">            newLev.add(next.val);</div><div class="line">            <span class="keyword">if</span>(next.left != <span class="keyword">null</span>) q.add(next.left);</div><div class="line">            <span class="keyword">if</span>(next.right != <span class="keyword">null</span>) q.add(next.right);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keyword">if</span>(!newLev.isEmpty()) ret.add(newLev);</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Variants_1-_Populating_Next_Pointer_in_Perfect_Binary_Tree">Variants 1. Populating Next Pointer in Perfect Binary Tree</h3>
<blockquote>
<p>Populate each next pointer to point to its next right node. If there is no next right node, the next pointer should be set to NULL.</p>
</blockquote>
<p>We just need to level-order traversal the tree. During the traversal, if we find that we are accessing a left child, then we link next to the parent’s right child, otherwise we link next to parent’s next’s left child.</p>
<figure class="highlight Java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="javadoc">/**</span></div><div class="line"> * Definition for binary tree with next pointer.</div><div class="line"> * public class TreeLinkNode {</div><div class="line"> *     int val;</div><div class="line"> *     TreeLinkNode left, right, next;</div><div class="line"> *     TreeLinkNode(int x) { val = x; }</div><div class="line"> * }</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span>(TreeLinkNode root, TreeLinkNode parent){</div><div class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span>(parent != <span class="keyword">null</span>) {</div><div class="line">        <span class="comment">// access</span></div><div class="line">        <span class="keyword">if</span>(root == parent.left) root.next = parent.right;</div><div class="line">        <span class="keyword">else</span> root.next = parent.next == <span class="keyword">null</span> ? <span class="keyword">null</span> : parent.next.left;</div><div class="line">    }</div><div class="line">    <span class="comment">// recursion</span></div><div class="line">    dfs(root.left, root);</div><div class="line">    dfs(root.right, root);</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Variants_2-_Populating_Next_Pointer_in_Any_Binary_Tree">Variants 2. Populating Next Pointer in Any Binary Tree</h3>
<p>The simplest solution is to use iterative version of BFS w/o Queue.</p>
<figure class="highlight Java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span>(TreeLinkNode root) {</div><div class="line">    TreeLinkNode parent = root;</div><div class="line">    <span class="keyword">while</span>(parent != <span class="keyword">null</span>) {</div><div class="line">        TreeLinkNode dummy = <span class="keyword">new</span> TreeLinkNode(-<span class="number">1</span>), prev = dummy;</div><div class="line">        <span class="keyword">while</span>(parent != <span class="keyword">null</span>){</div><div class="line">            <span class="keyword">if</span>(parent.left != <span class="keyword">null</span>){</div><div class="line">                prev.next = parent.left;</div><div class="line">                prev = prev.next;</div><div class="line">            }</div><div class="line">            <span class="keyword">if</span>(parent.right != <span class="keyword">null</span>){</div><div class="line">                prev.next = parent.right;</div><div class="line">                prev = prev.next;</div><div class="line">            }</div><div class="line">            parent = parent.next;</div><div class="line">        }</div><div class="line">        parent = dummy.next;</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Variant_3-_ZigZag_Order_Traversal">Variant 3. ZigZag Order Traversal</h3>
<p>The only difference is that we need to check even/odd level.</p>
<figure class="highlight Java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">List&lt;List&lt;Integer&gt;&gt; ret = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</div><div class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title">zigzagLevelOrder</span>(TreeNode root) {</div><div class="line">    dfs(root, <span class="number">1</span>);</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">}</div><div class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span>(TreeNode root, <span class="keyword">int</span> lev){</div><div class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">if</span>(ret.size() == lev - <span class="number">1</span>) ret.add(<span class="keyword">new</span> LinkedList&lt;Integer&gt;());</div><div class="line">    <span class="comment">// inorder access</span></div><div class="line">    List&lt;Integer&gt; nodeLevel = ret.get(lev - <span class="number">1</span>);</div><div class="line">    <span class="keyword">if</span>(lev % <span class="number">2</span> == <span class="number">1</span>) nodeLevel.add(root.val);</div><div class="line">    <span class="keyword">else</span> nodeLevel.add(<span class="number">0</span>, root.val);</div><div class="line">    <span class="comment">// recursion</span></div><div class="line">    dfs(root.left, lev + <span class="number">1</span>);</div><div class="line">    dfs(root.right, lev + <span class="number">1</span>);</div><div class="line">}</div></pre></td></tr></table></figure>

<h3 id="Variant_4-_Pretty_Print_Binary_Tree">Variant 4. Pretty Print Binary Tree</h3>

	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/28/Level-Order-Related/#more" class="btn btn-default more">Read More</a>
</div>

		
			
	
	<!-- display as entry -->
		<h3 class="title">
			<a href="/2015/01/28/Is-A-Graph-A-Tree/" >Is A Graph A Tree</a>
			<span class="date"> Jan 28 2015 </span>
		</h3>
	


			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <h3 id="Problem">Problem</h3>
<blockquote>
<p>Given the edge set of an undirected graph, return if it is a valid tree.</p>
</blockquote>
<h3 id="Solution">Solution</h3>
<p>The definition of a tree is connected graph with no loop. So we just need to check these two conditions respectively.</p>
<h4 id="Idea_1_-_DFS">Idea 1 - DFS</h4>
<p>First rebuild the graph from the given edge set. Then run a DFS to check if all nodes are connected and if there is a loop.</p>
<h4 id="Idea_2_-_Union_Set">Idea 2 - Union Set</h4>
<p>The basic idea is to use a union set to keep the connected component (CC). We can scan all edges and if both vertexes of an edge belongs to the same CC, then there is a loop. Finally we also need to check if there is only one CC after the scanning.</p>
<h3 id="Variants">Variants</h3>
<ul>
<li>What if it’s directed graph?</li>
<li>The edge is given in a different way. One example is like:<blockquote>
<p>Assume you are given a TreeNode class which has getParent() API. Given a set of such nodes, determine if they form a tree (<a href="http://www.mitbbs.com/article_t/JobHunting/32829537.html" target="_blank" rel="external">Interview Report</a>)</p>
</blockquote>
</li>
</ul>

	
	</div>
	
  
</div>
	<a type="button" href="/2015/01/28/Is-A-Graph-A-Tree/#more" class="btn btn-default more">Read More</a>
</div>

		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> Prev</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/3/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			<div class="form-group has-success has-feedback">
  <form action="//google.com/search" method="get" accept-charset="utf-8" >
    <input type="search" name="q" results="0" placeholder="Search" class="form-control">
    <input type="hidden" name="q" value="site:yoursite.com">	
  </form>
</div>

		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/Non-Leetcode/FB/">FB<span>1</span></a></li>
		
			<li><a href="/categories/Non-Leetcode/Google/">Google<span>6</span></a></li>
		
			<li><a href="/categories/Leetcode/">Leetcode<span>17</span></a></li>
		
			<li><a href="/categories/Non-Leetcode/">Non-Leetcode<span>7</span></a></li>
		
			<li><a href="/categories/Non-Leetcode/Google/Onsite/">Onsite<span>1</span></a></li>
		
			<li><a href="/categories/Non-Leetcode/FB/Phone-Screen/">Phone Screen<span>1</span></a></li>
		
			<li><a href="/categories/Non-Leetcode/Google/Phone-Screen/">Phone Screen<span>4</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/String/">String<span>3</span></a></li>
		
			<li><a href="/tags/MergeSort/">MergeSort<span>1</span></a></li>
		
			<li><a href="/tags/BFS/">BFS<span>1</span></a></li>
		
			<li><a href="/tags/List/">List<span>1</span></a></li>
		
			<li><a href="/tags/Array/">Array<span>4</span></a></li>
		
			<li><a href="/tags/Two-Pointers/">Two Pointers<span>5</span></a></li>
		
			<li><a href="/tags/Binary-Search/">Binary Search<span>6</span></a></li>
		
			<li><a href="/tags/HashMap/">HashMap<span>2</span></a></li>
		
			<li><a href="/tags/Sort/">Sort<span>1</span></a></li>
		
			<li><a href="/tags/Math/">Math<span>3</span></a></li>
		
			<li><a href="/tags/BST/">BST<span>2</span></a></li>
		
			<li><a href="/tags/Tree/">Tree<span>2</span></a></li>
		
			<li><a href="/tags/Divide-and-Conquer/">Divide-and-Conquer<span>1</span></a></li>
		
			<li><a href="/tags/DFS/">DFS<span>3</span></a></li>
		
			<li><a href="/tags/Two-Pointer/">Two Pointer<span>1</span></a></li>
		
			<li><a href="/tags/Data-Structure/">Data Structure<span>1</span></a></li>
		
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2015/01/31/Linked-List-Cycle-II/" ><i class="fa fa-file-o"></i>Linked List Cycle II</a>
      </li>
    
      <li>
        <a href="/2015/01/31/Minimum-Window-Substring/" ><i class="fa fa-file-o"></i>Minimum Window Substring</a>
      </li>
    
      <li>
        <a href="/2015/01/30/Container-With-Most-Water/" ><i class="fa fa-file-o"></i>Container With Most Water</a>
      </li>
    
      <li>
        <a href="/2015/01/30/3-Sum/" ><i class="fa fa-file-o"></i>3 Sum</a>
      </li>
    
      <li>
        <a href="/2015/01/30/2-Sum/" ><i class="fa fa-file-o"></i>2 Sum</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/CodEnFisH" title="My Github repo." target="_blank"]);">Github</a></li>
	
		<li><i class="fa fa-linkedin"></i><a href="http://www.linkedin.com/in/codefish" title="My Linkin account." target="_blank"]);">My LinkedIn</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2015 Codefish
  
      with help from <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
   </html>
